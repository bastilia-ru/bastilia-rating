@page "/member/{UserIdentificator}"
@using Bastilia.Rating.Portal.Client.Components.BastiliaUsers
@inject UserLoaderHelper Repository
@inject NavigationManager NavigationManager

<PageTitle>Профиль участника @member?.UserName</PageTitle>

@if (member == null)
{
    <LoadingSpinner />
}
else
{
    <BastiliaMemberPanel Member="member" />
}

@code {
    [Parameter]
    public string UserIdentificator { get; set; } = null!;

    private BastiliaMember? member;

    protected override async Task OnParametersSetAsync()
    {
        member = await Repository.LoadUserWithCheck(UserIdentificator);
    }
}