@page "/"
@inject IBastiliaMemberRepository Repository

<PageTitle>Home</PageTitle>

<h1>Бастильцы и прибастиленные</h1>

@if (members is null)
{
    <LoadingSpinner />
}
else
{
    <Bastilia.Rating.Portal.Components.BastiliaUsers.MemberList Members="members" />
}

@code
{
    private IQueryable<BastiliaMember>? members;
    protected override async Task OnInitializedAsync()
    {
        members = (await Repository.GetAllAsync()).AsQueryable();
    }
}